{% extends 'DavidBundle::base.html.twig' %}

{% block title %}{% trans %}discipline.title{% endtrans %}{% endblock %}

{% block body %}
    <div class="country">
        <h1 class="text-center">{% trans %}discipline.title{% endtrans %}</h1>

        <div class="row">
            <div class="col-md-5">
                <h3>{% trans %}discipline.form.title{% endtrans %}</h3>

                {{ form_start(form) }}
                <div class="form-group">
                    {{ form_label(form.name) }}
                    {{ form_widget(form.name, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.name) }}
                </div>
                <button type="submit" class="btn btn-primary">{% trans %}generic.form.submit.add{% endtrans %}</button>
                {{ form_end(form) }}
            </div>

            <div class="col-md-6 col-md-push-1">
                {% if disciplines is empty %}
                    <div class="alert alert-danger" role="alert">
                        {% trans %}discipline.noDiscipline{% endtrans %}
                    </div>
                {% else %}
                    <table class="table table-hover">
                        <thead>
                        <tr>
                            <td>{% trans %}discipline.thead.athletesNumber{% endtrans %}</td>
                            <td>{% trans %}discipline.thead.name{% endtrans %}</td>
                            <td>{% trans %}generic.thead.modify{% endtrans %}</td>
                            <td>{% trans %}generic.thead.delete{% endtrans %}</td>
                        </tr>
                        </thead>
                        <tbody>
                        {% for discipline in disciplines %}
                            <tr>
                                <td>{{ discipline.athletes|length }}</td>
                                <td>{{ discipline.name|capitalize }}</td>
                                <td><a href="{{ path('discipline_edit', {"id": discipline.id}) }}"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></td>
                                <td><a href="{{ path('discipline_delete', {"id": discipline.id}) }}"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a></td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}